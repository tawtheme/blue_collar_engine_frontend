<div class="booking-title-section py-5">
    <div class="container-xxl">
        <h2 class="text-center">Schedule Online</h2>
    </div>
</div>
<div class="py-5">
    <div class="container-xxl">
        <h4 class="mb-15 font20">Select Service</h4>
        <div class="row gx-5" *ngFor="let catgeory of items;index as i">
            <div class="col-lg-4">
                <div class="nav flex-column nav-pills me-3 booking-services-lists" id="v-pills-tab" role="tablist"
                    aria-orientation="vertical">
                    <button class="nav-link {{catgeory.categoryId==activeCategory ?'active':''}}"
                        (click)="activeTab(catgeory.categoryId)" attr.id="leftPanel_{{catgeory.categoryId}}_tab"
                        data-bs-toggle="pill" type="button" role="tab"
                        attr.data-bs-target="#leftPanel_{{catgeory.categoryId}}"
                        attr.aria-controls="leftPanel_{{catgeory.categoryId}}"
                        attr.aria-selected="{{i==0 ?'true':'false'}}">
                        <img src="../../../../../assets/images/svg-icons/air-conditioning-grey.svg"
                            alt="Air Conditioning" class="img-fluid inActiveCartInput" />
                        <img src="../../../../../assets/images/svg-icons/air-conditioning-blue.svg"
                            alt="Air Conditioning" class="img-fluid activeCartInput" />
                        <h4 class="font15"> {{catgeory.name}}</h4>
                    </button>
                </div>

            </div>
            <div class="col-lg-8">
                <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade {{catgeory.categoryId==activeCategory ?'show active':''}}"
                        attr.id="leftPanel_{{catgeory.categoryId}}" role="tabpanel"
                        attr.aria-labelledby="leftPanel_{{catgeory.categoryId}}_tab" tabindex="0">
                        <h4 class="mb-15 font20">{{catgeory.name}} Services </h4>
                        <div class="border rounded p-4">
                            <div class="booking-services-items"
                                *ngFor='let service of catgeory.categoryServices;index as j'>
                                <div class="row">
                                    <div class="col-lg-8">
                                        <span class="grey-badge border-0 rounded-pill mb-2">Starts at ${{service.price |
                                            number : '1.2-2'}}</span>
                                        <h4 class="mb-3 font16">{{service.serviceName}}</h4>
                                        <p>{{service.description}}</p>
                                        <!-- <li class="font-muted font13 mb-2">Advanced Foam-jet cleaning of indoor unit
                                        </li>
                                        <li class="font-muted font13 mb-2">Thorough cleaning of outdoor unit</li>
                                        <li class="font-muted font13">Final checks & cleanup</li>
                                        </ul> -->
                                        <a class="text-decoration-underline font13">View Details</a>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="booking-services-item-img text-end"
                                            *ngIf="service.uploadedFiles.length == 0">
                                            <img src="./../../../../assets/images/services3.png" class="img-fluid" />
                                            <button class="btn btn-primary"
                                                (click)="addToCart($event, service.categoryServiceId)"
                                                [ngClass]="this.isAdded[service.categoryServiceId] ? 'btn-success added' : ''">{{isAdded[service.categoryServiceId]?'Added':'Add'}}</button>
                                        </div>
                                        <div class="booking-services-item-img text-end"
                                            *ngIf="service.uploadedFiles.length > 0">
                                            <img src="{{service.uploadedFiles[0].filePath}}" class="img-fluid sss"
                                                (error)="service.uploadedFiles[0].filePath = './../../../../assets/images/services3.png'" />
                                            <button class="btn btn-primary"
                                                (click)="addToCart($event, service.categoryServiceId)"
                                                [ngClass]="this.isAdded[service.categoryServiceId] ? 'btn-success added' : ''">{{isAdded[service.categoryServiceId]?'Added':'Add'}}</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-start mt-4">
            <button class="primary-filled-button px-5 lg-btn" type="button" data-bs-toggle="modal"
                data-bs-target="#book-service-modal" [disabled]="!isEnableNextBtn">Next</button>
        </div>

    </div>
</div>


<!-- Modal -->
<div class="modal fade common-model-style" id="book-service-modal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Book Service</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="service-modal-wrapper">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="p-4 px-3">
                            <h5 class="mb-2 font14 font500">Select Date</h5>
                            <div class="service-modal-calendar mb-4">
                                <img src="../../../../../assets/images/calendar-img.png" class="img-fluid" />
                            </div>
                            <h5 class="mb-2 font14 font500">Select Available Time</h5>
                            <div class="service-modal-available-slots">
                                <button class="white-badge">09:00AM - 10:00AM</button>
                                <button class="white-badge">10:00AM - 11:00AM</button>
                                <button class="white-badge">10:00AM - 11:00AM</button>
                                <button class="white-badge">09:00AM - 10:00AM</button>
                                <button class="white-badge">09:00AM - 10:00AM</button>
                                <button class="white-badge">09:00AM - 10:00AM</button>
                                <button class="white-badge">09:00AM - 10:00AM</button>
                                <button class="white-badge">09:00AM - 10:00AM</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 service-modal-right">
                        <div class="ps-3 p-4 d-flex flex-column h-100">
                            <div class="">
                                <div class="border-bottom mb-3 pb-3">
                                    <span class="grey-badge border-0 rounded-pill mb-2">Starts at $340</span>
                                    <h4 class="mb-3 font16">Anti-rust deep clean AC services</h4>
                                    <button class="light-outlined-button bg-white xs-btn mt-2 px-2" type="button"> <span
                                            class="icon-edit"></span> Remove</button>
                                </div>
                                <div class="border-bottom  mb-3 pb-3">
                                    <span class="grey-badge border-0 rounded-pill mb-2">Starts at $340</span>
                                    <h4 class="mb-3 font16">Anti-rust deep clean AC services</h4>
                                    <button class="light-outlined-button bg-white xs-btn mt-2 px-2" type="button"> <span
                                            class="icon-edit"></span> Remove</button>
                                </div>
                            </div>
                            <div class="mt-auto">
                                <button class="primary-filled-button px-5 lg-btn w-100" type="button"
                                    data-bs-target="#book-service-modal2" data-bs-toggle="modal">Next</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade common-model-style" id="book-service-modal2" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Book Service</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="service-modal-wrapper">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="p-4 px-3">
                            <h5 class="mb-2 font14 font500">Service Address</h5>
                            <div class="form-group mb-3">
                                <input type="text" id="address" name="address" placeholder="Address"
                                    class="form-control mb-15">
                            </div>
                            <div class="form-group  mb-3">
                                <select id="state" name="Country" class="form-select">
                                    <option value="" disabled selected>Country</option>
                                    <option value="USA">USA</option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <select id="state" name="state" class="form-select">
                                    <option value="" disabled selected>State</option>
                                    <option value="California">California</option>
                                    <option value="Texas">Texas</option>
                                    <option value="Florida">Florida</option>
                                    <option value="New York">New York</option>
                                    <option value="Pennsylvania">Pennsylvania</option>
                                    <option value="Illinois">Illinois</option>
                                    <option value="Ohio">Ohio</option>
                                    <option value="Georgia">Georgia</option>
                                    <option value="North Carolina">North Carolina</option>
                                    <option value="Michigan">Michigan</option>
                                </select>
                            </div>
                            <div class="row g-3">
                                <div class="col-md-6 ">
                                    <div class="form-group">
                                        <input type="text" id="city" name="city" placeholder="City"
                                            class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-6 ">
                                    <div class="form-group">
                                        <input type="text" id="zipcode" name="zipcode" placeholder="Zip Code"
                                            class="form-control">
                                    </div>
                                </div>
                            </div>
                            <h5 class="mb-2 font14 font500 mt-4">Customer Name</h5>
                            <div class="row g-3">
                                <div class="col-md-6 ">
                                    <div class="form-group">
                                        <input type="text" id="fname" name="fname" placeholder="First Name"
                                            class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-6 ">
                                    <div class="form-group">
                                        <input type="text" id="lname" name="lname" placeholder="Last Name"
                                            class="form-control">
                                    </div>
                                </div>
                            </div>
                            <h5 class="mb-2 font14 font500 mt-4">Phone Number</h5>
                            <div class="form-group">
                                <input type="text" id="phoneName" name="phoneName" placeholder="Enter phone number"
                                    class="form-control">
                            </div>
                            <h5 class="mb-2 font14 font500 mt-4">Email address</h5>
                            <div class="form-group">
                                <input type="text" id="email" name="email" placeholder="Enter email address"
                                    class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 service-modal-right">
                        <div class="ps-3 p-4 d-flex flex-column h-100">
                            <div class="">
                                <div class="border-bottom mb-3 pb-3">
                                    <span class="grey-badge border-0 rounded-pill mb-2">Starts at $340</span>
                                    <h4 class="mb-3 font16">AC Repair</h4>
                                    <button class="light-outlined-button bg-white xs-btn mt-2 px-2" type="button">
                                        <span class="icon-edit"></span> Remove</button>
                                </div>
                                <div class="border-bottom  mb-3 pb-3">
                                    <span class="grey-badge border-0 rounded-pill mb-2">Starts at $340</span>
                                    <h4 class="mb-3 font16">Anti-rust deep clean AC services</h4>
                                    <button class="light-outlined-button bg-white xs-btn mt-2 px-2" type="button">
                                        <span class="icon-edit"></span> Remove</button>
                                </div>
                                <div class="d-flex align-items-start gap-3">
                                    <div class="fs-3">
                                        <span class="icon-calendar"></span>
                                    </div>
                                    <div class="">
                                        <p class="font14 mb-0 font-muted">Date & Time</p>
                                        <h4 class="font16 font600 my-1 ">11:00 Am - 01:00 PM</h4>
                                        <p class="font14 mb-0 ">Friday, Apr 14, 2024</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-auto">
                                <button class="primary-filled-button px-5 lg-btn w-100" type="button">Book
                                    Now</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>